FROM node:18.15.0

ARG NEXT_PUBLIC_AUTH_CLIENT_ID
ARG NEXT_PUBLIC_AUTH_CLIENT_SECRET
ARG NEXT_PUBLIC_AUTH_URL
ARG NEXT_PUBLIC_API_URL
ARG NEXT_PUBLIC_URL

WORKDIR /usr/src/app

COPY . .

RUN yarn
RUN yarn build
EXPOSE 5173

CMD yarn start
